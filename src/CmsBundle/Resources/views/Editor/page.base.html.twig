{% extends "CmsBundle::Templates/" ~ host ~ "/" ~ pageTemplate %}

{% block title %}{{ document.metatitle?document.metatitle:document.name }}{% endblock %}
{% block ogtitle %}{{ document.metatitle?document.metatitle:document.name }}{% endblock %}
{% block metadescription %}{{ document.metadescription }}{% endblock %}
{% block ogmetadescription %}{{ document.metadescription }}{% endblock %}
{% block metakeywords %}{{ document.metakeywords }}{% endblock %}



{#% block stylesheets %}
    {% if is_granted('ROLE_ADMIN') %}
        {% stylesheets
        'assets/vendors/bootstrap/dist/css/bootstrap.css'
        'assets/vendors/font-awesome/css/font-awesome.css'
        'assets/vendors/bootstrap/dist/css/bootstrap.css'
        'assets/vendors/bootstrap/dist/css/bootstrap-theme.css'
        'assets/vendors/jQuery-contextMenu/dist/jquery.contextMenu.css'
        'assets/tinymce/skins/lightgray/skin.min.css'
        'assets/tinymce/skins/lightgray/content.min.css'
        'assets/jquery-ui/css/jquery-ui.css'
        'assets/jstree/themes/default/style.css'
        '@CmsBundle/Resources/public/css/cms.less'
        %}
        <link rel="stylesheet" href="{{ asset_url }}" />
        {% endstylesheets %}
    {% else %}
        {% stylesheets
        'assets/vendors/bootstrap/dist/css/bootstrap.css'
        'assets/vendors/font-awesome/css/font-awesome.css'
        %}
        <link rel="stylesheet" href="{{ asset_url }}" />
        {% endstylesheets %}
    {% endif %}
    {{  parent() }}
{% endblock %#}

{% block body %}
    {% include document.template with {'document': document } %}
{% endblock %}


{% block cms %}
    {% if is_granted('ROLE_ADMIN') %}
        <!-- Large modal -->
     <div class="admin-content">
        <div class="modal fade" id="cms-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="cms-modal-label">New message</h4>
                    </div>
                    <div class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Zavřít </button>
                        <button id="modal-save-button" type="button" class="btn btn-primary">Uložit</button>
                    </div>
                </div>
            </div>
        </div>
     </div>


     <div id="remodal" data-remodal-id="modal">
          <button data-remodal-action="close" class="remodal-close"></button>
          <h1 class="modal-title">Remodal</h1>
          <div class="modal-body">
              <p>
                Obsah okna
              </p>
          </div>
          <br>
          <button data-remodal-action="cancel" class="remodal-cancel">Storno</button>
          <button id="modal-save-button" class="remodal-confirm">Uložit</button>
      </div>

     <!-- Panel -->
     {% include 'CmsBundle::Editor/Panel/panel.html.twig' %}

     <!-- Sidebar -->
     {% include 'CmsBundle::Editor/Sidebar/sidebar.html.twig' %}

    {% endif %}
{% endblock %}


{% block javascripts %}
    {#% if is_granted('ROLE_ADMIN') %}

        {% javascripts
            'assets/vendors/jquery/dist/jquery.js'
            'assets/vendors/bootstrap/dist/js/bootstrap.js'
            'assets/vendors/jQuery-contextMenu/dist/jquery.contextMenu.js'
            'assets/vendors/jQuery-contextMenu/dist/jquery.ui.position.js'
            'assets/vendors/jquery.cookie/jquery.cookie.js'
            'assets/jquery-ui/js/jquery-ui.js'
            'assets/jquery-ui/js/jquery-ui.js'
            'assets/jquery-slidereveal/jquery.slidereveal.min.js'
            'assets/tinymce/tinymce.min.js'
            'assets/tinymce/jquery.tinymce.min.js'
            'assets/tinymce/themes/modern/theme.min.js'
            'assets/vendors/interactjs/interact.js'
            'assets/jstree/jstree.min.js'
            'bundles/fosjsrouting/js/router.js'
            '@CmsBundle/Resources/public/js/*'
        %}
        <script src="{{ asset_url }}"></script>
        {% endjavascripts %}
        <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
    {% else %}
        {% javascripts
            'assets/vendors/jquery/dist/jquery.js'
            'assets/vendors/bootstrap/dist/js/bootstrap.js'
        %}
        <script src="{{ asset_url }}"></script>
        {% endjavascripts %}
    {% endif %}
    #}
    {{ parent() }}

    {% if is_granted('ROLE_ADMIN') %}
    <script type="text/javascript">
        var adminUrl = Array();
        adminUrl['widget_add'] = '{{ path('cms_widget_add') }}';
        adminUrl['widget_sort'] = '{{ path('cms_widget_sort') }}';
        adminUrl['document_add'] = '{{ path('cms_document_add') }}';

        var adminParam = Array();
        adminParam['document_id'] = '{{ document.id }}';
        adminParam['url'] = '{{ document.url }}';
    </script>
    {% endif %}
{% endblock %}